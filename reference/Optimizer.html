<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="A Optimizer R6 object defines a numerical optimizer based on an
optimization function implemented in R.
The main advantage of working with an Optimizer object instead of
using the optimization function directly lies in the standardized inputs and
outputs.
Any R function that fulfills the following four constraints can be defined as
an Optimizer object:
It must have an input for a function, the objective function to be
optimized.
It must have an input for a numeric vector, the initial values from
where the optimizer starts.
It must have a ... argument for additional parameters passed on to
the objective function.
The output must be a named list, including the optimal function
value and the optimal parameter vector.

"><title>Specify numerical optimizer as R6 object — Optimizer • optimizeR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify numerical optimizer as R6 object — Optimizer"><meta property="og:description" content="A Optimizer R6 object defines a numerical optimizer based on an
optimization function implemented in R.
The main advantage of working with an Optimizer object instead of
using the optimization function directly lies in the standardized inputs and
outputs.
Any R function that fulfills the following four constraints can be defined as
an Optimizer object:
It must have an input for a function, the objective function to be
optimized.
It must have an input for a numeric vector, the initial values from
where the optimizer starts.
It must have a ... argument for additional parameters passed on to
the objective function.
The output must be a named list, including the optimal function
value and the optimal parameter vector.

"><meta property="og:image" content="https://loelschlaeger.de/optimizeR/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">optimizeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/loelschlaeger/optimizeR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Specify numerical optimizer as R6 object</h1>
      <small class="dont-index">Source: <a href="https://github.com/loelschlaeger/optimizeR/blob/HEAD/R/optimizer.R" class="external-link"><code>R/optimizer.R</code></a></small>
      <div class="d-none name"><code>Optimizer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A <code>Optimizer</code> R6 object defines a numerical optimizer based on an
optimization function implemented in R.</p>
<p>The main advantage of working with an <code>Optimizer</code> object instead of
using the optimization function directly lies in the standardized inputs and
outputs.</p>
<p>Any R function that fulfills the following four constraints can be defined as
an <code>Optimizer</code> object:</p><ol><li><p>It must have an input for a <code>function</code>, the objective function to be
optimized.</p></li>
<li><p>It must have an input for a <code>numeric</code> vector, the initial values from
where the optimizer starts.</p></li>
<li><p>It must have a <code>...</code> argument for additional parameters passed on to
the objective function.</p></li>
<li><p>The output must be a named <code>list</code>, including the optimal function
value and the optimal parameter vector.</p></li>
</ol></div>


    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>label</code></dt>
<dd><p>A <code>character</code>, the label for the optimizer.</p></dd>


<dt><code>algorithm</code></dt>
<dd><p>A <code>function</code>, the optimization algorithm.</p></dd>


<dt><code>arg_objective</code></dt>
<dd><p>A <code>character</code>, the argument name for the objective function in
<code>algorithm</code>.</p></dd>


<dt><code>arg_initial</code></dt>
<dd><p>A <code>character</code>, the argument name for the initial values in
<code>algorithm</code>.</p></dd>


<dt><code>out_value</code></dt>
<dd><p>A <code>character</code>, the element name for the optimal function value in
the output <code>list</code> of <code>algorithm</code>.</p></dd>


<dt><code>out_parameter</code></dt>
<dd><p>A <code>character</code>, the element name for the optimal parameters in the
output <code>list</code> of <code>algorithm</code>.</p></dd>


<dt><code>direction</code></dt>
<dd><p>Either <code>"min"</code> (if the optimizer minimizes) or <code>"max"</code>
(if the optimizer maximizes).</p></dd>


<dt><code>arguments</code></dt>
<dd><p>A named <code>list</code> of custom arguments for <code>algorithm</code>. Defaults
are used for arguments that are not specified.</p></dd>


<dt><code>seconds</code></dt>
<dd><p>A <code>numeric</code>, a time limit in seconds. Optimization is interrupted
prematurely if <code>seconds</code> is exceeded.</p>
<p>No time limit if <code>seconds = Inf</code> (the default).</p>
<p>Note the limitations documented in <code><a href="https://rdrr.io/r/base/setTimeLimit.html" class="external-link">setTimeLimit</a></code>.</p></dd>


<dt><code>hide_warnings</code></dt>
<dd><p>Either <code>TRUE</code> to hide warnings during optimization, or <code>FALSE</code>
(default) else.</p></dd>


<dt><code>output_ignore</code></dt>
<dd><p>A <code>character</code> <code>vector</code> of elements to ignore in the
optimization output.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-Optimizer-new"><code>Optimizer$new()</code></a></p></li>
<li><p><a href="#method-Optimizer-definition"><code>Optimizer$definition()</code></a></p></li>
<li><p><a href="#method-Optimizer-set_arguments"><code>Optimizer$set_arguments()</code></a></p></li>
<li><p><a href="#method-Optimizer-validate"><code>Optimizer$validate()</code></a></p></li>
<li><p><a href="#method-Optimizer-minimize"><code>Optimizer$minimize()</code></a></p></li>
<li><p><a href="#method-Optimizer-maximize"><code>Optimizer$maximize()</code></a></p></li>
<li><p><a href="#method-Optimizer-print"><code>Optimizer$print()</code></a></p></li>
<li><p><a href="#method-Optimizer-clone"><code>Optimizer$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-Optimizer-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initializes a new <code>Optimizer</code> object.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Optimizer.html">Optimizer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">which</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>which</code></dt>
<dd><p>A <code>character</code>, either one of <code>optimizer_dictionary$keys</code> or
<code>"custom"</code> (in which case <code>$definition()</code> must be used to
define the optimizer details).</p></dd>


<dt><code>...</code></dt>
<dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A new <code>Optimizer</code> object.</p>
</div>

</div><p></p><hr><a id="method-Optimizer-definition"></a><div class="section">
<h3 id="method-definition-">Method <code>definition()</code><a class="anchor" aria-label="anchor" href="#method-definition-"></a></h3>
<p>Defines an optimizer.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">definition</span><span class="op">(</span></span>
<span>  <span class="va">algorithm</span>,</span>
<span>  <span class="va">arg_objective</span>,</span>
<span>  <span class="va">arg_initial</span>,</span>
<span>  <span class="va">out_value</span>,</span>
<span>  <span class="va">out_parameter</span>,</span>
<span>  <span class="va">direction</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>algorithm</code></dt>
<dd><p>A <code>function</code>, the optimization algorithm.</p></dd>


<dt><code>arg_objective</code></dt>
<dd><p>A <code>character</code>, the argument name for the objective function in
<code>algorithm</code>.</p></dd>


<dt><code>arg_initial</code></dt>
<dd><p>A <code>character</code>, the argument name for the initial values in
<code>algorithm</code>.</p></dd>


<dt><code>out_value</code></dt>
<dd><p>A <code>character</code>, the element name for the optimal function value in
the output <code>list</code> of <code>algorithm</code>.</p></dd>


<dt><code>out_parameter</code></dt>
<dd><p>A <code>character</code>, the element name for the optimal parameters in the
output <code>list</code> of <code>algorithm</code>.</p></dd>


<dt><code>direction</code></dt>
<dd><p>Either <code>"min"</code> (if the optimizer minimizes) or <code>"max"</code>
(if the optimizer maximizes).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Invisibly the <code>Optimizer</code> object.</p>
</div>

</div><p></p><hr><a id="method-Optimizer-set_arguments"></a><div class="section">
<h3 id="method-set-arguments-">Method <code>set_arguments()</code><a class="anchor" aria-label="anchor" href="#method-set-arguments-"></a></h3>
<p>Sets optimizer arguments.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">set_arguments</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>The <code>Optimizer</code> object.</p>
</div>

</div><p></p><hr><a id="method-Optimizer-validate"></a><div class="section">
<h3 id="method-validate-">Method <code>validate()</code><a class="anchor" aria-label="anchor" href="#method-validate-"></a></h3>
<p>Validates the <code>Optimizer</code> object. A time limit in seconds for
the optimization can be set via the <code>$seconds</code> field.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span></span>
<span>  objective <span class="op">=</span> <span class="fu">optimizeR</span><span class="fu">::</span><span class="va"><a href="../reference/test_objective.html">test_objective</a></span>,</span>
<span>  initial <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  direction <span class="op">=</span> <span class="st">"min"</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>objective</code></dt>
<dd><p>A <code>function</code> to be optimized that</p><ol><li><p>has at least one argument that receives a <code>numeric</code> <code>vector</code></p></li>
<li><p>and returns a single <code>numeric</code> value.</p></li>
</ol><p>Alternatively, it can also be a <code><a href="Objective.html">Objective</a></code> object for more
flexibility.</p></dd>


<dt><code>initial</code></dt>
<dd><p>A <code>numeric</code> vector with starting parameter values for the optimization.</p></dd>


<dt><code>...</code></dt>
<dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p></dd>


<dt><code>direction</code></dt>
<dd><p>Either <code>"min"</code> for minimization or <code>"max"</code> for maximization.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>The <code>Optimizer</code> object.</p>
</div>

</div><p></p><hr><a id="method-Optimizer-minimize"></a><div class="section">
<h3 id="method-minimize-">Method <code>minimize()</code><a class="anchor" aria-label="anchor" href="#method-minimize-"></a></h3>
<p>Performing minimization.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">minimize</span><span class="op">(</span><span class="va">objective</span>, <span class="va">initial</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>objective</code></dt>
<dd><p>A <code>function</code> to be optimized that</p><ol><li><p>has at least one argument that receives a <code>numeric</code> <code>vector</code></p></li>
<li><p>and returns a single <code>numeric</code> value.</p></li>
</ol><p>Alternatively, it can also be a <code><a href="Objective.html">Objective</a></code> object for more
flexibility.</p></dd>


<dt><code>initial</code></dt>
<dd><p>A <code>numeric</code> vector with starting parameter values for the optimization.</p></dd>


<dt><code>...</code></dt>
<dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A named <code>list</code>, containing at least these five elements:</p><dl><dt><code>value</code></dt>
<dd><p>A <code>numeric</code>, the minimum function value.</p></dd>

<dt><code>parameter</code></dt>
<dd><p>A <code>numeric</code> vector, the parameter vector
where the minimum is obtained.</p></dd>

<dt><code>seconds</code></dt>
<dd><p>A <code>numeric</code>, the optimization time in seconds.</p></dd>

<dt><code>initial</code></dt>
<dd><p>A <code>numeric</code>, the initial parameter values.</p></dd>

<dt><code>error</code></dt>
<dd><p>Either <code>TRUE</code> if an error occurred, or <code>FALSE</code>, else.</p></dd>


</dl><p>Appended are additional output elements of the optimizer.</p>
<p>If an error occurred, then the error message is also appended as element
<code>error_message</code>.</p>
<p>If the time limit was exceeded, this also counts as an error. In addition,
the flag <code>time_out = TRUE</code> is appended.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Optimizer.html">Optimizer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"stats::nlm"</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">minimize</span><span class="op">(</span>objective <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">^</span><span class="fl">4</span> <span class="op">+</span> <span class="fl">3</span><span class="op">*</span><span class="va">x</span> <span class="op">-</span> <span class="fl">5</span>, initial <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Optimizer-maximize"></a><div class="section">
<h3 id="method-maximize-">Method <code>maximize()</code><a class="anchor" aria-label="anchor" href="#method-maximize-"></a></h3>
<p>Performing maximization.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">maximize</span><span class="op">(</span><span class="va">objective</span>, <span class="va">initial</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>objective</code></dt>
<dd><p>A <code>function</code> to be optimized that</p><ol><li><p>has at least one argument that receives a <code>numeric</code> <code>vector</code></p></li>
<li><p>and returns a single <code>numeric</code> value.</p></li>
</ol><p>Alternatively, it can also be a <code><a href="Objective.html">Objective</a></code> object for more
flexibility.</p></dd>


<dt><code>initial</code></dt>
<dd><p>A <code>numeric</code> vector with starting parameter values for the optimization.</p></dd>


<dt><code>...</code></dt>
<dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A named <code>list</code>, containing at least these five elements:</p><dl><dt><code>value</code></dt>
<dd><p>A <code>numeric</code>, the maximum function value.</p></dd>

<dt><code>parameter</code></dt>
<dd><p>A <code>numeric</code> vector, the parameter vector
where the maximum is obtained.</p></dd>

<dt><code>seconds</code></dt>
<dd><p>A <code>numeric</code>, the optimization time in seconds.</p></dd>

<dt><code>initial</code></dt>
<dd><p>A <code>numeric</code>, the initial parameter values.</p></dd>

<dt><code>error</code></dt>
<dd><p>Either <code>TRUE</code> if an error occurred, or <code>FALSE</code>, else.</p></dd>


</dl><p>Appended are additional output elements of the optimizer.</p>
<p>If an error occurred, then the error message is also appended as element
<code>error_message</code>.</p>
<p>If the time limit was exceeded, this also counts as an error. In addition,
the flag <code>time_out = TRUE</code> is appended.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Optimizer.html">Optimizer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"stats::nlm"</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">maximize</span><span class="op">(</span>objective <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span><span class="va">x</span><span class="op">^</span><span class="fl">4</span> <span class="op">+</span> <span class="fl">3</span><span class="op">*</span><span class="va">x</span> <span class="op">-</span> <span class="fl">5</span>, initial <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Optimizer-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Prints the optimizer label.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>Invisibly the <code>Optimizer</code> object.</p>
</div>

</div><p></p><hr><a id="method-Optimizer-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### Task: compare minimization with 'stats::nlm' and 'pracma::nelder_mead'</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 1. define objective function and initial values</span></span></span>
<span class="r-in"><span><span class="va">objective</span> <span class="op">&lt;-</span> <span class="fu">TestFunctions</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/TestFunctions/man/TF_ackley.html" class="external-link">TF_ackley</a></span></span></span>
<span class="r-in"><span><span class="va">initial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2. get overview of optimizers in dictionary</span></span></span>
<span class="r-in"><span><span class="va">optimizer_dictionary</span><span class="op">$</span><span class="va">keys</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "stats::nlm"    "stats::nlminb" "stats::optim" </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 3. define 'nlm' optimizer</span></span></span>
<span class="r-in"><span><span class="va">nlm</span> <span class="op">&lt;-</span> <span class="va">Optimizer</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>which <span class="op">=</span> <span class="st">"stats::nlm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 4. define the 'pracma::nelder_mead' optimizer (not contained in the dictionary)</span></span></span>
<span class="r-in"><span><span class="va">nelder_mead</span> <span class="op">&lt;-</span> <span class="va">Optimizer</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>which <span class="op">=</span> <span class="st">"custom"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Please use method `$definition()` next to define a custom optimizer.</span>
<span class="r-in"><span><span class="va">nelder_mead</span><span class="op">$</span><span class="fu">definition</span><span class="op">(</span></span></span>
<span class="r-in"><span>  algorithm <span class="op">=</span> <span class="fu">pracma</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pracma/man/neldermead.html" class="external-link">nelder_mead</a></span>, <span class="co"># the optimization function</span></span></span>
<span class="r-in"><span>  arg_objective <span class="op">=</span> <span class="st">"fn"</span>,            <span class="co"># the argument name for the objective function</span></span></span>
<span class="r-in"><span>  arg_initial <span class="op">=</span> <span class="st">"x0"</span>,              <span class="co"># the argument name for the initial values</span></span></span>
<span class="r-in"><span>  out_value <span class="op">=</span> <span class="st">"fmin"</span>,              <span class="co"># the element for the optimal function value in the output</span></span></span>
<span class="r-in"><span>  out_parameter <span class="op">=</span> <span class="st">"xmin"</span>,          <span class="co"># the element for the optimal parameters in the output</span></span></span>
<span class="r-in"><span>  direction <span class="op">=</span> <span class="st">"min"</span>                <span class="co"># the optimizer minimizes</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 5. compare the minimization results</span></span></span>
<span class="r-in"><span><span class="va">nlm</span><span class="op">$</span><span class="fu">minimize</span><span class="op">(</span><span class="va">objective</span>, <span class="va">initial</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6.559645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parameter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.974451 1.974451</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.01266217</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $initial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gradient</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5.757896e-08 5.757896e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $iterations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">nelder_mead</span><span class="op">$</span><span class="fu">minimize</span><span class="op">(</span><span class="va">objective</span>, <span class="va">initial</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4.440892e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parameter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.009317875</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $initial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 105</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $info$solver</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Nelder-Mead"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $info$restarts</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Optimizer$minimize`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"stats::nlm"</span><span class="op">)</span><span class="op">$</span></span></span>
<span class="r-in"><span>  <span class="fu">minimize</span><span class="op">(</span>objective <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">^</span><span class="fl">4</span> <span class="op">+</span> <span class="fl">3</span><span class="op">*</span><span class="va">x</span> <span class="op">-</span> <span class="fl">5</span>, initial <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -7.044261</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parameter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.9085614</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.001115561</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $initial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gradient</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6.068035e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $iterations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Optimizer$maximize`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Optimizer</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"stats::nlm"</span><span class="op">)</span><span class="op">$</span></span></span>
<span class="r-in"><span>  <span class="fu">maximize</span><span class="op">(</span>objective <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span><span class="va">x</span><span class="op">^</span><span class="fl">4</span> <span class="op">+</span> <span class="fl">3</span><span class="op">*</span><span class="va">x</span> <span class="op">-</span> <span class="fl">5</span>, initial <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -2.955739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parameter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.9085598</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.001284599</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $initial</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gradient</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -3.801404e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $iterations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://loelschlaeger.de" class="external-link">Lennart Oelschläger</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

